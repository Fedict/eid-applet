<?xml version="1.0" encoding="UTF-8"?>
<assembly
	xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">
	<id>dev</id>
	<formats>
		<format>zip</format>
	</formats>
	<baseDirectory>jboss-as-distribution</baseDirectory>
	<fileSets>
		<fileSet>
			<directory>src/main/assembly</directory>
			<includes>
				<include>README.txt</include>
			</includes>
			<outputDirectory>/</outputDirectory>
		</fileSet>
		<fileSet>
			<directory>target/dependency/jboss-${jboss.version}</directory>
			<outputDirectory>/</outputDirectory>
			<excludes>
				<exclude>client/**</exclude>
				<exclude>docs/**</exclude>
				<exclude>server/minimal/**</exclude>
				<exclude>server/standard/**</exclude>
				<exclude>server/web/**</exclude>
				<exclude>server/jbossweb-standalone/**</exclude>
				<exclude>server/osgi/**</exclude>
				<exclude>common/deploy/admin-console.war/**</exclude>
				<!-- commons-collections via Richfaces -->
				<exclude>common/lib/commons-collections.jar</exclude>
				<exclude>common/lib/commons-beanutils.jar</exclude>
				<exclude>common/lib/xmlsec.jar</exclude>
				<exclude>common/lib/wss4j.jar</exclude>
				<!-- we provider our own commons-httpclient -->
				<exclude>common/lib/commons-httpclient.jar</exclude>
				<!-- opensaml -->
				<exclude>lib/endorsed/serializer.jar</exclude>
				<!-- JAX-WS/JAXB -->
				<exclude>server/all/deployers/jbossws.deployer/**</exclude>
				<exclude>server/default/deployers/jbossws.deployer/**</exclude>
				<exclude>server/all/deployers/jbossws-jaxrpc.deployer/**</exclude>
				<exclude>server/default/deployers/jbossws-jaxrpc.deployer/**</exclude>
				<exclude>server/all/deployers/resteasy.deployer/jaxb-impl-2.2.jar</exclude>
				<exclude>server/default/deployers/resteasy.deployer/jaxb-impl-2.2.jar</exclude>
				<exclude>common/lib/jaxws-api.jar</exclude>
				<exclude>common/lib/jsr181-api.jar</exclude>
				<exclude>common/lib/saaj-api.jar</exclude>
				<exclude>lib/endorsed/jbossws-native-factories.jar</exclude>
				<exclude>lib/endorsed/jboss-jaxb-api_2.2_spec.jar</exclude>
				<exclude>lib/endorsed/jboss-jaxws-api_2.2_spec.jar</exclude>
				<exclude>lib/endorsed/jbossws-cxf-factories.jar</exclude>
				<exclude>common/deploy/jbossws-console.war/**</exclude>
				<exclude>common/lib/cxf-*</exclude>
				<!-- chmod+x on the UNIX scripts -->
				<exclude>bin/run.sh</exclude>
				<exclude>bin/shutdown.sh</exclude>
				<!-- https://jira.jboss.org/browse/EJBTHREE-2152 -->
				<exclude>common/deploy/jboss-ejb3-timerservice-mk2.jar/**</exclude>
			</excludes>
		</fileSet>
		<fileSet>
			<directory>target/dependency/jboss-${jboss.version}</directory>
			<outputDirectory>/</outputDirectory>
			<fileMode>0544</fileMode>
			<includes>
				<include>bin/run.sh</include>
				<include>bin/shutdown.sh</include>
			</includes>
		</fileSet>
		<fileSet>
			<directory>target/dependency/jboss-${jboss.version}</directory>
			<outputDirectory>/</outputDirectory>
			<includes>
				<!-- required by shutdown.sh -->
				<include>client/jbossall-client.jar</include>
				<include>client/jboss-system-jmx-client.jar</include>
				<include>client/jboss-j2se.jar</include>
				<include>client/jnp-client.jar</include>
				<include>client/jboss-logging.jar</include>
				<include>client/jmx-invoker-adaptor-client.jar</include>
				<include>client/jboss-client.jar</include>
				<include>client/jboss-serialization.jar</include>
				<include>client/jboss-common-core.jar</include>
				<include>client/jboss-remoting.jar</include>
				<include>client/jboss-javaee.jar</include>
				<include>client/jboss-security-spi.jar</include>
				<include>client/jboss-integration.jar</include>
			</includes>
		</fileSet>
		<fileSet>
			<!-- https://jira.jboss.org/browse/EJBTHREE-2152 -->
			<directory>target/dependency/jboss-ejb3-timerservice-mk2.jar</directory>
			<outputDirectory>common/deploy/jboss-ejb3-timerservice-mk2.jar</outputDirectory>
		</fileSet>
	</fileSets>
	<dependencySets>
		<dependencySet>
			<outputDirectory>common/lib</outputDirectory>
			<excludes>
				<!-- OpenSAML -->
				<exclude>org.apache.xerces:serializer</exclude>
				<!-- JAXB/JAXWS 2.2 -->
				<exclude>javax.xml.bind:jaxb-api</exclude>
				<exclude>com.sun.xml.bind:jaxb-impl</exclude>
				<exclude>javax.xml.ws:jaxws-api</exclude>
				<exclude>stax:stax-api</exclude>
				<exclude>javax.xml.stream:stax-api</exclude>
				<exclude>org.apache.xalan:xalan</exclude>
			</excludes>
		</dependencySet>
		<dependencySet>
			<outputDirectory>lib/endorsed</outputDirectory>
			<includes>
				<include>org.apache.xerces:serializer</include>
			</includes>
		</dependencySet>
	</dependencySets>
</assembly>
